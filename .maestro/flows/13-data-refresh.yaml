appId: com.volvoxllc.twelvesteptracker
name: '13 - Data Refresh and Synchronization'
---
# Test pull-to-refresh functionality across all screens
# Prerequisites: User must be logged in with some data

- launchApp:
    clearState: false

# Test refresh on Home screen
- tapOn: 'Home'
- assertVisible: 'Home'
- swipe:
    direction: DOWN
    duration: 1000
- waitForAnimationToEnd
- assertVisible: 'Home'

# Test refresh on Tasks screen
- tapOn: 'Tasks'
- assertVisible: 'Tasks'
- swipe:
    direction: DOWN
    duration: 1000
- waitForAnimationToEnd
- assertVisible: 'Tasks'

# Test refresh on Steps screen
- tapOn: 'Steps'
- assertVisible: 'Steps'
- swipe:
    direction: DOWN
    duration: 1000
- waitForAnimationToEnd
- assertVisible: 'Steps'

# Test refresh on Journey screen
- tapOn: 'Journey'
- assertVisible: 'Journey'
- swipe:
    direction: DOWN
    duration: 1000
- waitForAnimationToEnd
- assertVisible: 'Your Recovery Timeline'

# Test rapid refresh (stress test)
- swipe:
    direction: DOWN
    duration: 500
- waitForAnimationToEnd
- swipe:
    direction: DOWN
    duration: 500
- waitForAnimationToEnd
- swipe:
    direction: DOWN
    duration: 500

# Verify data consistency after rapid refreshes
- assertVisible: 'Your Recovery Timeline'

# Test refresh on Profile screen
- tapOn: 'Profile'
- assertVisible: 'Profile'
- swipe:
    direction: DOWN
    duration: 1000
- waitForAnimationToEnd

# Verify profile data loaded
- assertVisible:
    text: 'Email'
    optional: true
